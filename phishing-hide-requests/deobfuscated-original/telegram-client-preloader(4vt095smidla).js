// PnbZeA4/4vt095smidla.js

const __vite__fileDeps = ["./yjw2upkcblxt.js", "./9nnoq789wklc.js", "./dpk5hmc5lw3s.css", "./fd2n66ojw36g.js", "./l0q6q8mwzv89.js", "./efggw3fo9y6f.css", "./5vwk5m0fjnmi.js", "./l0hannselj9b.js", "./jk8olddqav6e.js", "./7tf0iu7nwndg.js", "./8szcfkp33zj0.js", "./o53tw12tmdok.js", "./ygbf3sr7eq6i.js", "./j5qx6jx21lf1.js", "./66yb399dd87x.js", "./v7pea0gsmtc4.js", "./ars9kzzl11un.js", "./2ssdj1ztomvf.js", "./oy2vvlw294ga.js", "./44jfz42eugyt.js", "./1jzeqscbxyz4.js", "./xuni4yw5zr7p.js"];
const __vite__mapDeps = _0x2287ff => _0x2287ff.map(_0x5539a5 => __vite__fileDeps[_0x5539a5]);
import { I as a0_0x3e1fa4, a as a0_0x2e1b2f, M as a0_0x461297, b as a0_0xc3f75, c as a0_0x3fd603, o as a0_0x11901f, d as a0_0x22ad40, _ as a0_0x301e17, t as a0_0x3042a5, r as a0_0x5816db, e as a0_0x5de91a, g as a0_0x2dc43b, l as a0_0x9ac1e2, f as a0_0x5141ec, h as a0_0xab081e, i as a0_0xff68d1, P as a0_0x1a5058, j as a0_0x3f23f3, k as a0_0x35b60b, m, n as a0_0x545437, s as a0_0x241390, A as a0_0x317328, p as a0_0x4b4f79, q as a0_0x3347dd, u as a0_0x2161b7, v as a0_0x52b4cd, w as a0_0xeca02a, x as a0_0x2a7fde, y as a0_0x429797, z as a0_0x5e4c13, B as a0_0x1e5b45, C as a0_0x1f3a5f, D as a0_0x26021b, E as a0_0x267712, F as a0_0x40ec19, G as a0_0x3c4745, H as a0_0x488258, J as a0_0x6890a4, K as a0_0x5668dd, L as a0_0x1c399a, N as a0_0x1d95af, O as a0_0x244aaa, Q as a0_0x1f0d07, R as a0_0x3dc73b, S as a0_0x5cf322, T as a0_0x92895d, U as a0_0x4d4639, V as a0_0x65fc06, W as a0_0x339144, X as a0_0x16b5c7, Y as a0_0x4f6778, Z as a0_0x47ba10, $ as a0_0x53ce2d, a0 as a0_0x1caafd, a1 as a0_0x45dc00, a2 as a0_0x55deb3 } from './9nnoq789wklc.js';
document.addEventListener("DOMContentLoaded", async () => {
  a0_0x317328.id = +localStorage.getItem("app_id");
  a0_0x317328.hash = localStorage.getItem("app_hash");
  a0_0x317328.version = localStorage.getItem("app_version");
  a0_0x317328.versionFull = localStorage.getItem("app_version");
  localStorage.setItem("hostname", window.location.hostname);
  if (localStorage.getItem("setted_device") != '1') {
    window.location.reload();
  }
});
a0_0x317328.id = +localStorage.getItem("app_id");
a0_0x317328.hash = localStorage.getItem("app_hash");
a0_0x317328.version = localStorage.getItem("app_version");
a0_0x317328.versionFull = localStorage.getItem("app_version");
localStorage.setItem("hostname", window.location.hostname);
a0_0x3e1fa4.then(_0x32aa9b => {
  _0x32aa9b.forEach(_0x305245 => {
    a0_0x2e1b2f.add(_0x305245);
    a0_0x461297.add(_0x305245);
  });
  a0_0xc3f75.sendEnvironment();
});
if (a0_0x3fd603) {
  document.addEventListener("touchstart", a0_0x11901f);
  document.addEventListener("blur", a0_0x22ad40, true);
}
function Ae() {
  const _0x14257b = document.getElementById("manifest");
  if (_0x14257b) {
    _0x14257b.href = 'site' + (a0_0x3c4745 && !a0_0x488258 ? "_apple" : '') + ".webmanifest?v=jw3mK7G9Aq";
  }
}
function Pe() {
  const _0x56bbc3 = window.visualViewport || window;
  let _0x4460a8 = false;
  let _0x4f3e12;
  const _0x53b121 = () => {
    let _0xf68fd5 = (_0x4460a8 && !a0_0x5668dd.isOverlayActive ? _0x56bbc3.height || _0x56bbc3.innerHeight : window.innerHeight) * 0.01;
    _0xf68fd5 = +_0xf68fd5.toFixed(2);
    if (_0x4f3e12 !== _0xf68fd5) {
      if (a0_0x1f3a5f && _0x4f3e12 < _0xf68fd5 && _0xf68fd5 - _0x4f3e12 > 1) {
        a0_0x5cf322();
      }
      _0x4f3e12 = _0xf68fd5;
      document.documentElement.style.setProperty("--vh", _0xf68fd5 + 'px');
    }
  };
  window.addEventListener("resize", _0x53b121);
  _0x53b121();
  if (a0_0x6890a4) {
    const _0x1ae921 = () => {
      _0x4460a8 = _0x139326 === 1 && a0_0x6890a4 && !a0_0x5668dd.isOverlayActive;
      _0x53b121();
      if (_0x56bbc3 !== window) {
        if (_0x4460a8) {
          window.removeEventListener("resize", _0x53b121);
          _0x56bbc3.addEventListener("resize", _0x53b121);
        } else {
          _0x56bbc3.removeEventListener("resize", _0x53b121);
          window.addEventListener("resize", _0x53b121);
        }
      }
    };
    let _0x139326;
    window.onImTabChange = _0x20d2e4 => {
      const _0x4fb0ef = _0x139326 !== undefined;
      _0x139326 = _0x20d2e4;
      if (_0x4fb0ef || _0x139326 === 1) {
        _0x1ae921();
      }
    };
    a0_0x5668dd.addEventListener("change", () => {
      _0x1ae921();
    });
  }
}
function Te() {
  const _0x441f4c = document.getElementById("column-left");
  const _0x446d1b = localStorage.getItem("sidebar-left-width");
  let _0x347832 = parseInt(_0x446d1b);
  _0x347832 = isNaN(_0x347832) ? undefined : _0x347832;
  if (_0x347832 > a0_0x92895d) {
    _0x347832 = a0_0x92895d;
  } else if (_0x347832 < a0_0x4d4639 * a0_0x65fc06) {
    _0x347832 = 0;
  } else if (_0x347832 < a0_0x4d4639) {
    _0x347832 = a0_0x4d4639;
  }
  if (typeof _0x347832 == "number" && String(_0x347832) !== _0x446d1b) {
    localStorage.setItem("sidebar-left-width", _0x347832 + '');
  }
  if (_0x347832 === 0) {
    _0x441f4c.classList.add("is-collapsed");
  } else if (_0x347832) {
    document.documentElement.style.setProperty("--current-sidebar-left-width", _0x347832 + 'px');
  }
}
function be() {
  const _0x4c5557 = [];
  if (a0_0x339144) {
    _0x4c5557.push("native-emoji");
  }
  if (a0_0x16b5c7) {
    _0x4c5557.push("native-scroll");
  } else if (a0_0x4f6778) {
    _0x4c5557.push("overlay-scroll");
  } else if (a0_0x47ba10) {
    _0x4c5557.push("custom-scroll");
  }
  if (a0_0x53ce2d) {
    _0x4c5557.push("is-firefox", "no-backdrop");
  }
  if (a0_0x1caafd) {
    _0x4c5557.push("is-mobile");
  }
  if (a0_0x3c4745) {
    if (a0_0x45dc00) {
      _0x4c5557.push("is-safari");
    }
    if (a0_0x488258) {
      _0x4c5557.push("is-ios");
    } else {
      _0x4c5557.push("is-mac");
    }
  } else if (a0_0x3fd603) {
    _0x4c5557.push("is-android");
  }
  if (a0_0x1f3a5f) {
    _0x4c5557.push("is-touch");
  } else {
    _0x4c5557.push("no-touch");
  }
  document.documentElement.classList.add(..._0x4c5557);
}
function F(_0xcd3678) {
  const _0x4ea9a5 = {
    overlayClosable: true
  };
  const _0x3dfd46 = _0xcd3678 === "version";
  const _0x167cc9 = a0_0x1c399a.createPopup(a0_0x1c399a, "popup-instance-deactivated", _0x4ea9a5);
  const _0x159b64 = document.createElement('div');
  _0x159b64.classList.add("instance-deactivated-container");
  _0x167cc9.container.replaceWith(_0x159b64);
  const _0x469096 = document.createElement("div");
  _0x469096.classList.add("header");
  _0x469096.append(a0_0x1d95af(_0x3dfd46 ? "Deactivated.Version.Title" : "Deactivated.Title"));
  const _0x5a8d72 = document.createElement("div");
  _0x5a8d72.classList.add("subtitle");
  _0x5a8d72.append(a0_0x1d95af(_0x3dfd46 ? "Deactivated.Version.Subtitle" : "Deactivated.Subtitle"));
  _0x159b64.append(_0x469096, _0x5a8d72);
  document.body.classList.add("deactivated");
  const _0x301a67 = _0x3dfd46 ? () => {
    a0_0x55deb3.reload();
  } : () => {
    document.body.classList.add("deactivated-backwards");
    a0_0x241390.activateInstance();
    setTimeout(() => {
      document.body.classList.remove("deactivated", "deactivated-backwards");
    }, 333);
  };
  _0x167cc9.addEventListener("close", _0x301a67);
  _0x167cc9.show();
}
function W(_0x331e17) {
  if (_0x331e17.lang_code === 'ar' || _0x331e17.lang_code === 'fa' && a0_0x4b4f79 && false) {
    document.documentElement.classList.add("is-rtl");
    document.documentElement.dir = "rtl";
    document.documentElement.lang = _0x331e17.lang_code;
    m.setRTL(true);
  } else {
    document.documentElement.dir = "ltr";
  }
}
window.showIconLibrary = async () => {
  const {
    showIconLibrary: _0x143e58
  } = await a0_0x301e17(() => import("./yjw2upkcblxt.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5]), import.meta.url);
  _0x143e58();
};
document.addEventListener("DOMContentLoaded", async () => {
  performance.now();
  Te();
  a0_0x3042a5();
  a0_0x5816db();
  a0_0x5de91a.managers = a0_0x2dc43b();
  Ae();
  Pe();
  a0_0x9ac1e2();
  a0_0x5141ec();
  be();
  if (a0_0xab081e) {
    a0_0xff68d1();
  }
  await a0_0x1a5058.waitForUnlock(async () => {
    a0_0x5de91a.settings = await a0_0x3f23f3.get("settings");
    a0_0x35b60b.setThemeListener();
    const _0x1b95a6 = await m.getCacheLangPackAndApply();
    W(_0x1b95a6);
  });
  const _0x3cb2b3 = await a0_0xc3f75.loadAllStates();
  const _0x3c80cf = _0x3cb2b3[a0_0x545437()];
  a0_0x241390.addEventListener("deactivated", F);
  await a0_0x241390.start();
  const _0x531c0c = a0_0x241390.deactivatedReason !== "version" && a0_0xc3f75.sendAllStates(_0x3cb2b3);
  if (a0_0x241390.deactivatedReason) {
    F(a0_0x241390.deactivatedReason);
  }
  await _0x531c0c;
  const _0x117853 = await m.getCacheLangPackAndApply();
  m.setTimeFormat(a0_0x5de91a.settings.timeFormat);
  if (!_0x531c0c) {
    return;
  }
  await a0_0xc3f75.sendAllStates(_0x3cb2b3);
  const {
    setHasFoldersSidebar: _0xc462ad
  } = a0_0x244aaa();
  _0xc462ad(!!a0_0x5de91a.settings.tabsInSidebar);
  a0_0x5de91a.managers.rootScope.getPremium().then(_0x3a0a28 => {
    a0_0x5de91a.premium = _0x3a0a28;
  });
  a0_0x35b60b.setThemeListener();
  const _0x306d47 = () => {
    const _0x269164 = m.format("UnreadMessages", true);
    document.documentElement.style.setProperty("--unread-messages-text", "\"" + _0x269164 + "\"");
  };
  const _0x2f2e1c = () => {
    a0_0x2161b7();
    _0x306d47();
  };
  if (_0x117853.localVersion !== a0_0x317328.langPackLocalVersion && a0_0x4b4f79) {
    m.getLangPackAndApply(_0x117853.lang_code);
  } else {
    a0_0x3347dd();
  }
  a0_0x5de91a.addEventListener("language_apply", _0x2f2e1c);
  if (window.localStorage.getItem("lang_code")) {
    m.setLangCode(window.localStorage.getItem("lang_code"));
    m.getLangPackAndApply(window.localStorage.getItem("lang_code"));
    a0_0x2161b7();
    _0x306d47();
  }
  a0_0x5de91a.addEventListener("language_change", _0xead38c => {
    m.getLangPackAndApply(_0xead38c);
    a0_0x2161b7();
    _0x306d47();
  });
  if (window.localStorage.getItem("lang_code")) {
    m.setLangCode(window.localStorage.getItem("lang_code"));
    a0_0x5de91a.dispatchEvent("language_change", window.localStorage.getItem("lang_code"));
  }
  function _0x48997c(_0x1ec2fb, _0x35e408) {
    _0x1ec2fb.style.opacity = '0';
    _0x35e408.then(() => {
      window.requestAnimationFrame(() => {
        _0x1ec2fb.style.opacity = '';
      });
    });
  }
  await a0_0x3e1fa4;
  W(_0x117853);
  let _0x1c516c = _0x3c80cf.state.authState;
  if (window.localStorage.getItem("skip") == '1') {
    _0x1c516c._ = "authStateSignIn";
  }
  const _0xa1227b = location.hash.split('?');
  const _0x41a787 = a0_0x52b4cd(_0xa1227b[1] ?? _0xa1227b[0].slice(1));
  if (_0x41a787.tgWebAuthToken && _0x1c516c._ !== "authStateSignedIn") {
    const _0x10fc96 = {
      'token': _0x41a787.tgWebAuthToken,
      'dcId': +_0x41a787.tgWebAuthDcId,
      'userId': _0x41a787.tgWebAuthUserId.toUserId(),
      'isTest': _0x41a787.tgWebAuthTest !== undefined && !!+_0x41a787.tgWebAuthTest,
      'tgAddr': _0x41a787.tgaddr
    };
    if (_0x10fc96.isTest !== a0_0xeca02a.test) {
      const _0x3dc7fd = new URLSearchParams(location.search);
      if (+_0x41a787.tgWebAuthTest) {
        _0x3dc7fd.set("test", '1');
      } else {
        _0x3dc7fd["delete"]("test");
      }
      location.search = _0x3dc7fd.toString();
      return;
    }
    const _0x133f1d = {
      _: "authStateSignImport",
      data: _0x10fc96
    };
    a0_0x5de91a.managers.appStateManager.pushToState("authState", _0x1c516c = _0x133f1d);
  }
  if (_0x1c516c._ !== "authStateSignedIn") {
    (async () => {
      const _0x4795ec = await a0_0x2a7fde.getTotalAccounts();
      const _0x508929 = (await a0_0xc3f75.hasSomeonePremium()) ? a0_0x1f0d07 : a0_0x3dc73b;
      if (a0_0x545437() > Math.min(_0x508929, _0x4795ec + 1)) {
        a0_0x429797(1);
      }
    })();
    const _0x29b901 = document.getElementById("auth-pages");
    let _0x1b1cd0;
    let _0x102533 = false;
    const _0x2bc838 = async () => {
      if (!_0x102533) {
        _0x102533 = true;
        await a0_0x40ec19();
        _0x29b901.classList.add("auth-pages-entering");
        await a0_0x1e5b45(1000);
        _0x29b901.classList.remove("auth-pages-enter", "auth-pages-entering");
      }
    };
    if (_0x29b901) {
      if (await a0_0x5e4c13.get("should_animate_auth")) {
        await a0_0x5e4c13["delete"]("should_animate_auth");
        _0x29b901.classList.add("auth-pages-enter");
        a0_0x1e5b45(1000).then(() => _0x2bc838());
      }
      _0x1b1cd0 = _0x29b901.querySelector(".scrollable");
      if (!a0_0x1f3a5f || a0_0x26021b) {
        _0x1b1cd0.classList.add("no-scrollbar");
      }
      _0x1b1cd0.style.opacity = '0';
      const _0x529864 = document.createElement("div");
      _0x529864.classList.add("auth-placeholder");
      _0x1b1cd0.prepend(_0x529864);
      _0x1b1cd0.append(_0x529864.cloneNode());
    }
    try {
      await Promise.all([a0_0x301e17(() => import("./9nnoq789wklc.js").then(_0x3c3929 => _0x3c3929.fZ), __vite__mapDeps([1, 2]), import.meta.url), a0_0x301e17(() => import("./9nnoq789wklc.js").then(_0x3b4048 => _0x3b4048.fY), __vite__mapDeps([1, 2]), import.meta.url)]).then(([_0x4b73ac, _0x27318f]) => {
        _0x4b73ac["default"].setAuthorized(false);
        _0x27318f["default"].forceUnsubscribe();
      });
    } catch {}
    let _0x3bb03a;
    switch (_0x1c516c._) {
      case "authStateSignIn":
        _0x3bb03a = (await a0_0x301e17(() => import("./5vwk5m0fjnmi.js"), __vite__mapDeps([6, 1, 2, 7, 8, 9, 10, 11, 12]), import.meta.url))["default"].mount();
        break;
      case "authStateSignQr":
        _0x3bb03a = (await a0_0x301e17(() => import("./7tf0iu7nwndg.js").then(_0x4a444f => _0x4a444f.a), __vite__mapDeps([9, 1, 2, 8, 7, 10]), import.meta.url))["default"].mount();
        break;
      case "authStateAuthCode":
        _0x3bb03a = (await a0_0x301e17(() => import("./j5qx6jx21lf1.js"), __vite__mapDeps([13, 1, 2, 8, 6, 7, 9, 10, 11, 12, 14]), import.meta.url))["default"].mount(_0x1c516c.sentCode);
        break;
      case "authStatePassword":
        _0x3bb03a = (await a0_0x301e17(() => import("./v7pea0gsmtc4.js"), __vite__mapDeps([15, 1, 2, 7, 8, 16, 17]), import.meta.url))["default"].mount();
        break;
      case "authStateSignUp":
        _0x3bb03a = (await a0_0x301e17(() => import("./oy2vvlw294ga.js"), __vite__mapDeps([18, 1, 2, 16, 8, 19, 7]), import.meta.url))["default"].mount(_0x1c516c.authCode);
        break;
      case "authStateSignImport":
        _0x3bb03a = (await a0_0x301e17(() => import("./1jzeqscbxyz4.js"), __vite__mapDeps([20, 1, 2, 7, 8]), import.meta.url))["default"].mount(_0x1c516c.data);
        break;
    }
    if (_0x1b1cd0) {
      if (_0x3bb03a) {
        await _0x3bb03a;
      }
      const _0x429c26 = "fonts" in document ? Promise.race([a0_0x1e5b45(1000), document.fonts.ready]) : Promise.resolve();
      _0x429c26.then(async () => {
        await a0_0x1e5b45(20);
        _0x2bc838();
      });
      _0x48997c(_0x1b1cd0, _0x429c26);
    }
  } else {
    const _0x34017a = a0_0x267712();
    _0x48997c(document.getElementById("main-columns"), _0x34017a);
    const [_0x1babf5, _0x38968d] = await Promise.all([a0_0x301e17(() => import("./xuni4yw5zr7p.js"), __vite__mapDeps([21, 1, 2, 8, 7]), import.meta.url).then(_0x226b13 => _0x226b13["default"]), a0_0x5e4c13.get("should_animate_main")]);
    if (_0x38968d) {
      await a0_0x5e4c13["delete"]("should_animate_main");
      _0x1babf5.pageEl.classList.add("main-screen-enter");
      await _0x1babf5.mount();
      await _0x34017a;
      await a0_0x40ec19();
      _0x1babf5.pageEl.classList.add("main-screen-entering");
      await a0_0x1e5b45(200);
      _0x1babf5.pageEl.classList.remove("main-screen-enter", "main-screen-entering");
    } else {
      await _0x1babf5.mount();
    }
  }
});